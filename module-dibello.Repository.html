<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>dibello.js Class: Repository</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />


	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">
	<link type="text/css" rel="stylesheet" href="styles/site.yeti.css">
	<link type="text/css" rel="stylesheet" href="styles/skate.css">
</head>

<body class="loading">

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">dibello.js</a>
	</div>
	<div class="navbar-collapse">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="module-skate.html">skate</a></li><li><a href="module-skate_utils_annotateFn.html">skate/utils/annotateFn</a></li><li><a href="module-skate_utils_lightinjector.html">skate/utils/lightinjector</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="module-dibello.Constraint.html">dibello.Constraint</a></li><li><a href="module-dibello.Database.html">dibello.Database</a></li><li><a href="module-dibello.IDBCursorGenerator.html">dibello.IDBCursorGenerator</a></li><li><a href="module-dibello.IDBRequestGenerator.html">dibello.IDBRequestGenerator</a></li><li><a href="module-dibello.Repository.html">dibello.Repository</a></li><li><a href="module-dibello.SchemaBuilder.html">dibello.SchemaBuilder</a></li><li><a href="module-dibello.StoreBuilder.html">dibello.StoreBuilder</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="global.html#injector">injector</a></li><li><a href="global.html#SkateUnknownStoreException">SkateUnknownStoreException</a></li><li><a href="global.html#stripCopy">stripCopy</a></li><li><a href="global.html#transact">transact</a></li>
				</ul>
			</li>
			
		</ul>
	</div>
</div>
</div>


<div class="container">
<div class="row">

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3"></div>
		</div>
	

	<div class="clearfix"></div>

	
	<div class="col-md-8">
	
		<div id="main">
			

<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="module-dibello.html">module:dibello</a>.</span>
        
        Repository
        </h2>
        
    
</header>


<article>
    <div class="container-overview">
    
        
<dt>
    <h4 class="name" id="Repository"><span class="type-signature"></span> new Repository<span class="signature">(db, storeName, transaction)</span><span class="type-signature"> &rarr; {Repository}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Provides a high-level API on top of an IndexedDB 
object store (IDBObjectStore)</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<div class="params-mobile">
	
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>db</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">Database</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					<p>The database to associate the repository with</p>
				</div>
				
				</div>
			
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>storeName</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">String</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					<p>The name of the store which this repository will represent</p>
				</div>
				
				</div>
			
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>transaction</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">IDBTransaction</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					<p>The optional IDB transaction to associate with the new repository</p>
				</div>
				
				</div>
			
		<br/>
</div>
<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>db</code></td>
            

            <td class="type">
            
                
<span class="param-type">Database</span>
 
    
            
            </td>

            

            

            <td class="description last"><p>The database to associate the repository with</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>storeName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
 
    
            
            </td>

            

            

            <td class="description last"><p>The name of the store which this repository will represent</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>transaction</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>
 
    
            
            </td>

            

            

            <td class="description last"><p>The optional IDB transaction to associate with the new repository</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Repository</span>
 
    
	</dd>
</dl>


        
    
    
</dd>

    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id=".generateGuid"><span class="type-signature">&lt;static> </span> generateGuid<span class="signature">()</span><span class="type-signature"> &rarr; {String}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Generate a GUID which may be used as the ID for a new object.</p>
    </div>
    

    

    
    
    
    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>The new GUID</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">String</span>
 
    
	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="all"><span class="type-signature"></span> all<span class="signature">()</span><span class="type-signature"> &rarr; {Generator}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Generates all items in the object store.</p>
    </div>
    

    

    
    
    
    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Generator</span>
 
    
	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="cursor"><span class="type-signature"></span> cursor<span class="signature">(An)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Open a cursor on the main index of this object store</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<div class="params-mobile">
	
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>An</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">IDBKeyRange</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					<p>optional <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBKeyRange">IDBKeyRange</a> 
        instance specifying the range of the query</p>
				</div>
				
				</div>
			
		<br/>
</div>
<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>An</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBKeyRange</span>
 
    
            
            </td>

            

            

            <td class="description last"><p>optional <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBKeyRange">IDBKeyRange</a> 
        instance specifying the range of the query</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="dehydrate"><span class="type-signature"></span> dehydrate<span class="signature">(item)</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Immediately dehydrates (flattens) the properties of the given object.
This method can be overridden for a specific repository by using skate/Database.configRepository()</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<div class="params-mobile">
	
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>item</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">type</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					
				</div>
				
				</div>
			
		<br/>
</div>
<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>item</code></td>
            

            <td class="type">
            
                
<span class="param-type">type</span>
 
    
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	
	<dt class="tag-see">See:</dt>
	<dd class="tag-see">
		<ul>
			<li>Database.configRepository</li>
			
			<li>Database.transact</li>
			</ul>
	</dd>
	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">undefined</span>
 
    
	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="delete"><span class="type-signature"></span> delete<span class="signature">(id)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Promises to resolve once the item has been deleted.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<div class="params-mobile">
	
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>id</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">String</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					<p>The ID of the object to delete</p>
				</div>
				
				</div>
			
		<br/>
</div>
<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
 
    
            
            </td>

            

            

            <td class="description last"><p>The ID of the object to delete</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>A promise to resolve once the item has been deleted.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Promise</span>
 
    
	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="find"><span class="type-signature"></span> find<span class="signature">(criteria)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Find all objects which match a given criteria object.
This is &quot;query by example&quot;. </p>
<p>Performance: For best performance, define the most-specific
key first. This is because the first key found in the criteria
object will be used to do the actual database query. The result of
this query will be stored in memory, then all subsequent
keys will filter the result set until the final result is obtained.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<div class="params-mobile">
	
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>criteria</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">object</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					<p>An object containing key/value pairs to search for. The first 
        key/value pair is used as an index.</p>
				</div>
				
				</div>
			
		<br/>
</div>
<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>
 
    
            
            </td>

            

            

            <td class="description last"><p>An object containing key/value pairs to search for. The first 
        key/value pair is used as an index.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>A promise to return the matching items</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Promise</span>
 
    
	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="get"><span class="type-signature"></span> get<span class="signature">(id)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Promises to return a single item.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<div class="params-mobile">
	
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>id</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">String</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					<p>The ID of the object to fetch</p>
				</div>
				
				</div>
			
		<br/>
</div>
<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
 
    
            
            </td>

            

            

            <td class="description last"><p>The ID of the object to fetch</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>A promise to return the item</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Promise</span>
 
    
	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getMany"><span class="type-signature"></span> getMany<span class="signature">(ids)</span><span class="type-signature"> &rarr; {Generator}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Look up many items with many keys at once.
Result is a generator which will emit each of the items.
TODO: Can we do this using cursors and key ranges?</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<div class="params-mobile">
	
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>ids</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">Array</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					<p>An array of IDs which should be looked up</p>
				</div>
				
				</div>
			
		<br/>
</div>
<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>ids</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>
 
    
            
            </td>

            

            

            <td class="description last"><p>An array of IDs which should be looked up</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Generator</span>
 
    
	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getStore"><span class="type-signature"></span> getStore<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>On a transacted Repository instance, this method returns the underlying 
object store instance (IDBObjectStore). If called on a non-transacted 
Repository (ie one created with Database.repository()),
this method will throw an exception.</p>
    </div>
    

    

    
    
    
    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore">IDBObjectStore</a></p>
</div>




        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getStoreTransaction"><span class="type-signature"></span> getStoreTransaction<span class="signature">(idb)</span><span class="type-signature"> &rarr; {type|IDBTransaction}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Get an IndexedDB transaction (IDBTransaction) for only the store represented by 
this repository. The resulting transaction cannot be used to access any other store.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<div class="params-mobile">
	
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>idb</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">Database</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					<p>The IDBDatabase instance</p>
				</div>
				
				</div>
			
		<br/>
</div>
<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>idb</code></td>
            

            <td class="type">
            
                
<span class="param-type">Database</span>
 
    
            
            </td>

            

            

            <td class="description last"><p>The IDBDatabase instance</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">type</span>
| 

<span class="param-type">IDBTransaction</span>
 
    
	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="hydrate"><span class="type-signature"></span> hydrate<span class="signature">(item)</span><span class="type-signature"> &rarr; {unresolved}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Returns a promise to hydrate the properties of a given object.
This function is called using skate/Database.transact(), so you can request
repositories or other dependencies using Skate's function injection mechanism.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<div class="params-mobile">
	
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>item</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">type</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					<p>In addition to the standard transact services, you may also inject 'item' which is the item being hydrated</p>
				</div>
				
				</div>
			
		<br/>
</div>
<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>item</code></td>
            

            <td class="type">
            
                
<span class="param-type">type</span>
 
    
            
            </td>

            

            

            <td class="description last"><p>In addition to the standard transact services, you may also inject 'item' which is the item being hydrated</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	
	<dt class="tag-see">See:</dt>
	<dd class="tag-see">
		<ul>
			<li>Database.transact</li>
			</ul>
	</dd>
	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">unresolved</span>
 
    
	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="hydrateCursor"><span class="type-signature"></span> hydrateCursor<span class="signature">(cursor)</span><span class="type-signature"> &rarr; {Generator}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Returns a generator which wraps the given 
<a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBCursor">IDBCursor</a>, 
hydrating the objects emitted using hydrate().</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<div class="params-mobile">
	
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>cursor</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">IDBCursor</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBCursor">IDBCursor</a> instance</p>
				</div>
				
				</div>
			
		<br/>
</div>
<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>cursor</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBCursor</span>
 
    
            
            </td>

            

            

            <td class="description last"><p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBCursor">IDBCursor</a> instance</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>A generator which will emit each of the hydrated items emitted from the given cursor</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Generator</span>
 
    
	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="hydrateGenerator"><span class="type-signature"></span> hydrateGenerator<span class="signature">(generator)</span><span class="type-signature"> &rarr; {Generator}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Returns a generator which wraps the given generator, hydrating 
the objects emitted using 
hydrate().</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<div class="params-mobile">
	
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>generator</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">Generator</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					<p>The generator whose items should be hydrated</p>
				</div>
				
				</div>
			
		<br/>
</div>
<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>generator</code></td>
            

            <td class="type">
            
                
<span class="param-type">Generator</span>
 
    
            
            </td>

            

            

            <td class="description last"><p>The generator whose items should be hydrated</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>A generator which emits the hydrated items</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Generator</span>
 
    
	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="index"><span class="type-signature"></span> index<span class="signature">(name)</span><span class="type-signature"> &rarr; {Index}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Retrieve an index object which allows for querying a specific index.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<div class="params-mobile">
	
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>name</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">String</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					<p>The name of the index to retrieve</p>
				</div>
				
				</div>
			
		<br/>
</div>
<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
 
    
            
            </td>

            

            

            <td class="description last"><p>The name of the index to retrieve</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Index</span>
 
    
	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="persist"><span class="type-signature"></span> persist<span class="signature">(item)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Persist the given item into the object store.
Return a promise to resolve once the operation is completed.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<div class="params-mobile">
	
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>item</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">object</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					<p>The object which should be persisted</p>
				</div>
				
				</div>
			
		<br/>
</div>
<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>item</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>
 
    
            
            </td>

            

            

            <td class="description last"><p>The object which should be persisted</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>Resolves once the operation is completed.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Promise</span>
 
    
	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="setTransaction"><span class="type-signature"></span> setTransaction<span class="signature">(tx)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Set the transaction on this repository object so that future operations 
use it instead of creating a new one. This is used during skate.transact()
calls to ensure that a new Repository will use the newly created transaction
(amongst other uses).</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<div class="params-mobile">
	
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>tx</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">IDBTransaction</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBTransaction">IDBTransaction</a> to set</p>
				</div>
				
				</div>
			
		<br/>
</div>
<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>tx</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>
 
    
            
            </td>

            

            

            <td class="description last"><p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBTransaction">IDBTransaction</a> to set</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="stripCopy"><span class="type-signature"></span> stripCopy<span class="signature">(item)</span><span class="type-signature"> &rarr; {unresolved}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Clone the given item and then strip non-persistable fields.</p>
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<div class="params-mobile">
	
			<div style="margin-left:0.5em;border-left:5px solid #ccc;margin-bottom:0.5em;">
				<label class="columnar"><code>item</code></label>
				
					<span style="display:inline-block;margin-left:0.25em;">
						
<span class="param-type">object</span>
 
    
					</span>
				

				

				

				<div style="margin-left:1em;margin-top:0.25em;">
					<p>The object which should be stripped</p>
				</div>
				
				</div>
			
		<br/>
</div>
<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>item</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>
 
    
            
            </td>

            

            

            <td class="description last"><p>The object which should be stripped</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">unresolved</span>
 
    
	</dd>
</dl>


        
    
    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>


</div>
</div>


<footer>

	&nbsp;&nbsp;&nbsp;Thanks for reading this far!
	<br />


	<span class="copyright">
	Copyright © 2015 The contributors to the Skate project
	</span>
	<br />

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a>
	on Mon Aug 24th 2015 using the <a
	href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
</span>
</footer>

<!--<script src="scripts/sunlight.js"></script>-->
<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/bootstrap-dropdown.js"></script>
<script src="scripts/toc.js"></script>

<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "h1,h2,h3,h4",
		showAndHide : false,
		scrollTo    : "100px"
	} );

	$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();
	//			$( ".tutorial-section pre, .readme-section pre" ).addClass( "sunlight-highlight-javascript" ).addClass( "linenums" );

	$( ".tutorial-section pre, .readme-section pre" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			lang = "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );
} );
</script>



<!--Navigation and Symbol Display-->

<script>
	$( function () {
		$( '#main' ).localScroll( {
			offset : { top : 60 } //offset by the height of your header (give or take a few px, see what works for you)
		} );
		$( "dt.name" ).each( function () {
			var $this = $( this ).find("h4");
			var icon = $( "<i/>" ).addClass( "icon-plus-sign" ).addClass( "pull-right" ).addClass( "icon-white" );
			var dt = $(this);
			var children = dt.next( "dd" );

			dt.prepend( icon ).css( {cursor : "pointer"} );
			dt.addClass( "member-collapsed" ).addClass( "member" );


			children.hide();

			dt.children().on( "click", function () {
				children = dt.next( "dd" );
				children.slideToggle( "fast", function () {

					if ( children.is( ":visible" ) ) {
						icon.addClass( "icon-minus-sign" ).removeClass( "icon-plus-sign" ).removeClass( "icon-white" );
						dt.addClass( "member-open" ).animate( "member-collapsed" );
					} else {
						icon.addClass( "icon-plus-sign" ).removeClass( "icon-minus-sign" ).addClass( "icon-white" );
						dt.addClass( "member-collapsed" ).removeClass( "member-open" );
					}
				} );
			} );

		} );
	} );
</script>

<script>
	$(function () {

		$('a[href^="module-"]').each(function() {
			var text = $(this).text();
			text = text.replace(/module:/g, '');
 
			$(this).css('margin', '0 0.2em');
			$(this).text(text);
		});

		$('body').removeClass('loading');
	});
</script>

<!--Google Analytics-->


</body>
</html>